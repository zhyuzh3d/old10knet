<!--顶部导航栏-->

<!--控制器界面部分-->
<div id='topNavbar' ng-controller='topNavbar' class='container-fluid'>

    <!--补充的css样式，都以控制器开头-->
    <style>
        .topNavbar-menu {
            padding: 15px 3em
        }
    </style>

    <!--顶部导航栏-->
    <div id='navBox' class='container-fluid'>
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" ui-sref="home" href="#" style="margin-right:1em">TeamTask</a>
                </div>
                <div id="navbar" class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li ng-class="{true:'active',false:''}[activeMenu==0]" ng-click='changePage(0)'>
                            <a href="#" style="padding: 15px 2em">登陆注册</a>
                        </li>
                        <li ng-class="{true:'active',false:''}[activeMenu==1]" ng-click='changePage(1)'>
                            <a href="#" style="padding: 15px 2em">我的任务</a>
                        </li>
                        <li ng-class="{true:'active',false:''}[activeMenu==2]" ng-click='changePage(2)'>
                            <a href="#" style="padding: 15px 2em">成就统计</a>
                        </li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right" ng-click='changePage(3)'>
                        <li ng-class="{true:'active',false:''}[activeMenu==3]"><a href="#">设置</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>

    <div id='pageBox' class='container-fluid'>
        <div ng-include='curpage'></div>
    </div>
</div>


<!--控制器代码部分-->
<script>
    (function() {
        angular.module('app').controller('topNavbar', ['$rootScope', '$scope', fn]);

        function fn($rootScope, $scope) {
            $rootScope['topNavbar'] = $scope;

            //需要载入的内容，仅限延迟使用，即时使用的需要加入index.html
            _cfg.load('swal');
            _cfg.load('toastr');

            //切换页面
            $scope.activeMenu = 0;
            $scope.curpage = $rootScope.url.pageReport;
            $scope.pages = ['pageLogin', 'pageTask', 'pageReport', 'pageSet'];
            $scope.changePage = function(n) {
                var ctrlr = $scope.pages[n];
                $scope.activeMenu = n;
                $scope.curpage = $rootScope.url[ctrlr];
            };
            $scope.changePage(0);
        };
    })();
</script>










<!---->

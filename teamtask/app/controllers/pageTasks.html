<!--任务列表页面框架-->

<!--控制器界面部分-->
<div id='pageTasks' ng-controller='pageTasks' class='pageTasks container-fluid'>

    <!--补充的css样式，都以控制器开头-->
    <style>
        #pageTasks temp {
            font-weight: bold;
        }
        .pageTasks .ng-valid {
            display: inline-block
        }
    </style>

    <!--html界面-->
    <div class='col-xs-10 col-sm-10 col-md-10 col-lg-8 col-xs-offset-1 col-sm-offset-1 col-md-offset-1 col-lg-offset-2' style='margin-top:2em'>
        <!--      按钮组-->
        <div class="row">
            <div class="col-xs-6" style="padding:0">
                <button type="button" class="btn btn-success navbar-btn" ng-click='addTask()'>添加任务</button>
            </div>
            <div class="col-xs-6" style="text-align:right;padding:0">
                <div class="btn-group" data-toggle="buttons" style="margin-top:12px">
                    <label class="btn btn-default btn-sm active" ng-click='getTasks("author")'>
                        <input type="radio" autocomplete="off" checked>我发布的
                    </label>
                    <label class="btn btn-default btn-sm" ng-click='getTasks("member")'>
                        <input type="radio" autocomplete="off">分配给我
                    </label>
                </div>
            </div>
        </div>
        <!--      列表组-->
        <div class="row">
            <div class="panel panel-default" ng-repeat='tsk in tasks' style="margin-bottom:0.75em">
                <div class="panel-body">
                    <div class='col-xs-6' style="text-align:left;padding:0">
                        <!--  设置状态-->
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="border:none;box-shadow:none;padding:0;margin-right:1em">
                                <span ng-class='getStateFas(tsk).icon'></span>
                            </button>
                            <ul class="dropdown-menu">
                                <li ng-repeat='stt in taskStateFas' ng-click='setTaskState(tsk,stt.value)' style="padding:0">
                                    <a href="#" style="padding:0.5em 1em">
                                        <span ng-class='stt.icon' style="margin-right:0.2em"></span>
                                        <span ng-bind='stt.txt'></span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <!--  截至时间和标题-->
                        <span class='fa fa-calendar' ng-click="showDatePicker(tsk)" style="display:inline-block;cursor:pointer"></span>
                        <input type="text" class="form-control" class="input-group-btn" uib-datepicker-popup="{{dataFormat}}" ng-model="tsk.endTime" is-open="tsk.endDatePickerIsOpen" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="dateInputFormats" style='padding:0;border:none;box-shadow: none;width:50px;display:inline-block;background:inherit;height:1em;cursor:pointer' value="readonly" readonly ng-change='setTaskEndTime(tsk)'></input>
                        <span ng-bind="tsk.title"></span>
                    </div>
                    <div class='col-xs-6' style="text-align:right;padding:0">
                        <span class='badge' ng-bind="tsk.author.nick">未命名用户</span>
                        <span ng-bind="tsk.time | date:'MM-dd'">00-00 00:00</span>
                        <span class='fa fa-remove fa-1x' style="cursor:pointer;margin-left:1em;color:#AAA" ng-click="delTask(tsk)"></span>
                    </div>
                </div>
                <div class="panel-footer  container-fluid" style="padding:4px 15px">
                    <!--      底部成员-->
                    <div class='col-xs-6' style="text-align:left;padding:0">
                        <span class='fa fa-plus fa-1x' style="cursor:pointer;margin-right:1em;color:#AAA" ng-click="addMember(tsk)"></span>
                        <span class='badge' ng-repeat='mbr in tsk.members' style="margin-right:1em">
                        <span ng-click='delMember(tsk,mbr)' style="cursor:pointer">
                            <span ng-bind='mbr.nick'></span>
                        <span class='fa fa-remove fa-1x'></span>
                        </span>
                        </span>
                    </div>
                    <div class='col-xs-6' style="text-align:right;padding:0">
                        <span class='fa fa-commenting fa-1x' style="cursor:pointer" ng-click='showPosts(tsk)'></span>
                        <span ng-bind='tsk.postCount'></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--加载外部控制器js文件-->
<script>
    _fns.addCtrlrJs('pageTasks');
</script>










<!---->
